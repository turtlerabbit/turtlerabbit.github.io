{"componentChunkName":"component---src-templates-archive-post-js","path":"/fullStackWPF/WPF-in-dotNET-and-MVVM-Navigation-03/","result":{"data":{"mdx":{"id":"0ae16d5d-9dae-54a3-bdf7-3ed3cc6da2e4","excerpt":"Simple Trader front-end를 위한 WPF project를 설정한다. MVVM 방식으로 프로젝트를 설정하고 매우 간단한 navigation control를 만들고 뷰 모델 간 탐색을 설정한다.  1. WPF project 설정 및 MVVM 방식으로 프로젝트를 설정 Add…","frontmatter":{"title":"FULL STACK WFP 03 - WPF in .NET and MVVM Navigation","date":"May 12, 2021","tag":"WPF, FullStack, Navigation, MVVM"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"FULL STACK WFP 03 - WPF in .NET and MVVM Navigation\",\n  \"date\": \"2021-05-12 03\",\n  \"tag\": \"WPF, FullStack, Navigation, MVVM\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null), mdx(\"p\", null, \"Simple Trader front-end\\uB97C \\uC704\\uD55C WPF project\\uB97C \\uC124\\uC815\\uD55C\\uB2E4.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"MVVM \\uBC29\\uC2DD\\uC73C\\uB85C \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC124\\uC815\\uD558\\uACE0 \\uB9E4\\uC6B0 \\uAC04\\uB2E8\\uD55C navigation control\\uB97C \\uB9CC\\uB4E4\\uACE0 \\uBDF0 \\uBAA8\\uB378 \\uAC04 \\uD0D0\\uC0C9\\uC744 \\uC124\\uC815\\uD55C\\uB2E4. \"), mdx(\"h1\", null), mdx(\"h3\", null, \"1. WPF project \\uC124\\uC815 \\uBC0F MVVM \\uBC29\\uC2DD\\uC73C\\uB85C \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC124\\uC815\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Add a new project : WPF Application - SimpleTrader.WPF\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\uAE30\\uBCF8 \\uC124\\uC815\"), mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Add Reference - SimpleTrader.Domain, SimpleTrader.EntityFrameworks\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\uD3F4\\uB354 \\uC0DD\\uC131 - ViewModels, Views\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"App.xaml - StartupUrl=\\u201CMainWindow.xaml\\u201D line \\uC0AD\\uC81C\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"App.xaml.cs - \\uCD94\\uAC00\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"protected override void OnStartup(StartupEventArgs e)\\n{\\n    Window window = new MainWindow();        \\n    window.Show();\\n\\n    base.OnStartup(e);\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"F5 \\uC2E4\\uD589 \\uC644\\uB8CC\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"ViewModels / MainViewModel.cs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"ViewModels / ViewModelBase.cs\"))), mdx(\"h1\", null), mdx(\"h3\", null, \"2. Control\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Simple Wire Frame\\n\", mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://lh3.googleusercontent.com/O-uRlqWtzwgvgR6KTQTvWB12dLcnprtXOZ9RpewO6Pc2PGmlIFvAXMHVyW-1tw1BpD0J9uuiYVOk4GOJ4o22MHC2l2XDvTWP3qBXfZ05d39oMr7XxHKwd4pydCDEzTj85Vc-JuaafEs28Fai8ismVpCURBLNTcyIxpNwdOrOH5CvzWlhRMFpHuvWd_ABD_SIaE5CoDmetrqkUE1idi7Qz2HWituNVxt9XzAUmyT8_e-PtJWjvsyA9VEgddOqNETKWQA4Yc0le3tsT793Mk9GfVgT1WAKVIaEe0VwO88vciTdFkye82k5865Afn6omRp-xEGwTyncXjxR8ZYFV3ceNCBUgpcEfRFp9U8tOfLCPtKzgUPoZ4tGrcFugyBtT5pIAM1GnOMAXAh0UPCGKLVb5qd_QyY9fDE2jbsyn9mc_0kK_gR1nrk5BaqQqaBob8sulxb7c8DzYue1y3LhTLZZbbfkdVLchqB0yIxItpqaHbRrSr5pfWj22glADxwweUy9LpXGlSZfBH7QH76IO_a1fR38VWz8mVTvKR-5of71aftwbUw8npzlq5OSUNCNcDePSKE851iujkJDE2noO8blB1qXsEM-YMsyFp6gDmQ9oqml4J3uKcxvNZoVVtZep8PrXpVG28vUlEcFaSXQC4XRpAGabKEB8Hhus3UeIFEmRvPBfYpXyTCEhWTX2pP9lmjwNXJn4Xd7S1wr3JcT-CQ-ZA=w1342-h603-no?authuser=0\",\n    \"alt\": \"alt\"\n  })))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\uD3F4\\uB354 \\uC0DD\\uC131 - SimpleTrader.WPF / Controls\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Controls - NavigationBar.xaml (user control)\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Navigation Bar \\uAE30\\uB2A5\\uC744 \\uD558\\uB294 user control\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<Grid>\\n    <Grid.RowDefinitions>\\n        <RowDefinition Height=\\\"auto\\\" />\\n        <RowDefinition Height=\\\"auto\\\" />\\n    </Grid.RowDefinitions>\\n\\n    <TextBlock Grid.Row=\\\"0\\\" \\n                Text=\\\"Simple Trader\\\"/>\\n    <Grid Grid.Row=\\\"1\\\" >\\n        <Grid.ColumnDefinitions>\\n            <ColumnDefinition Width=\\\"auto\\\" />\\n            <ColumnDefinition Width=\\\"auto\\\" />\\n            <ColumnDefinition Width=\\\"auto\\\" />\\n            <ColumnDefinition Width=\\\"auto\\\" />\\n            <ColumnDefinition Width=\\\"*\\\" />\\n        </Grid.ColumnDefinitions>\\n\\n        <RadioButton Grid.Column=\\\"0\\\" />\\n        <RadioButton Grid.Column=\\\"1\\\" />\\n        <RadioButton Grid.Column=\\\"2\\\" Content=\\\"Buy\\\" />\\n        <RadioButton Grid.Column=\\\"3\\\" Content=\\\"Sell\\\" />\\n    </Grid>\\n</Grid>\\n\"))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"MainWindow.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// MainWindow\\uC5D0 NavigationBar \\uC5F0\\uACB0\\n\\nxmlns:controls=\\\"clr-namespace:SimpleTrader.WPF.Controls\\\"\\n\\n<Grid>\\n    <controls:NavigationBar/>\\n</Grid>\\n\")))), mdx(\"h1\", null), mdx(\"h3\", null, \"3. Style\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\uD3F4\\uB354 \\uC0DD\\uC131 - SimpleTrader.WPF / Styles \")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Styles / Common.xaml (Resource Dictionary)\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<!--Colors-->\\n<Color x:Key=\\\"ColorPrimary1\\\">#799540</Color>\\n<Color x:Key=\\\"ColorPrimary2\\\">#50632b</Color>\\n\\n<!--Brushes-->\\n<SolidColorBrush x:Key=\\\"BrushPrimary1\\\" Color=\\\"{StaticResource ColorPrimary1}\\\" />\\n<SolidColorBrush x:Key=\\\"BrushPrimary2\\\" Color=\\\"{StaticResource ColorPrimary2}\\\" />\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"App.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// Application\\uC5D0 \\uC2A4\\uD0C0\\uC77C \\uB4F1\\uB85D\\n\\n<Application.Resources>\\n    \\n    <ResourceDictionary>\\n        <ResourceDictionary.MergedDictionaries>\\n            <ResourceDictionary Source=\\\"/Styles/Common.xaml\\\" />\\n        </ResourceDictionary.MergedDictionaries>\\n    \\n    </ResourceDictionary>\\n\\n</Application.Resources>\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Controls / NavigationBar.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// \\uB4F1\\uB85D\\uD55C \\uC2A4\\uD0C0\\uC77C \\uC801\\uC6A9\\n<Grid>\\n    <Grid.RowDefinitions>\\n        <RowDefinition Height=\\\"auto\\\" />\\n        <RowDefinition Height=\\\"auto\\\" />\\n    </Grid.RowDefinitions>\\n\\n    <TextBlock Grid.Row=\\\"0\\\" \\n               Text=\\\"Simple Trader\\\"\\n               Background=\\\"{StaticResource BrushPrimary1}\\\"/>\\n    <Grid Grid.Row=\\\"1\\\" Background=\\\"{StaticResource BrushPrimary2}\\\">\\n\\n    ....\\n\\n    </Grid>\\n</Grid>\\n\")))), mdx(\"h1\", null), mdx(\"h3\", null, \"4. Setup navigation between view models\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"ViewModels / HomeViewModel.cs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"ViewModels / PortfolioViewModel.cs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\uD3F4\\uB354 \\uC0DD\\uC131 - SimpleTrader.WPF / State \")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\uD3F4\\uB354 \\uC0DD\\uC131 - SimpleTrader.WPF / State / Navigators\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ State / Navigators / INavigator.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public interface INavigator\\n{\\n    ViewModelBase CurrentViewModel { get; set; }\\n    ICommand UpdateCurrentViewModelCommand { get; }\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ State / Navigators / Navigator.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class Navigator : INavigator\\n{\\n    public ViewModelBase CurrentViewModel{ get; set; }\\n\\n    public ICommand UpdateCurrentViewModelCommand => \\n                        throw new NotImplementedException();       \\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\uD3F4\\uB354 \\uC0DD\\uC131 - SimpleTrader.WPF / Commands\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Commands / UpdateCurrentViewModelCommand.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class UpdateCurrentViewModelCommand : ICommand\\n{\\n    public event EventHandler CanExecuteChanged;\\n\\n    private INavigator _navigator;\\n\\n    public UpdateCurrentViewModelCommand(INavigator navigator)\\n    {\\n        _navigator = navigator;\\n    }\\n\\n    public bool CanExecute(object parameter)\\n    {\\n        return true;\\n    }\\n\\n    public void Execute(object parameter)\\n    {\\n        if (parameter is ViewType)\\n        {\\n            ViewType viewType = (ViewType)parameter;\\n            switch (viewType)\\n            {\\n                case ViewType.Home:\\n                    _navigator.CurrentViewModel = new HomeViewModel();\\n                    break;\\n                case ViewType.Portfolio:\\n                    _navigator.CurrentViewModel = new PortfolioViewModel();\\n                    break;\\n                default:\\n                    break;\\n            }\\n        }\\n    }\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ State / Navigators / INavigator.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public enum ViewType\\n{\\n    Home,\\n    Portfolio,\\n}\\n\\n....\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ State / Navigators / Navigator.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class Navigator : INavigator\\n{\\n    ....\\n\\n    public ICommand UpdateCurrentViewModelCommand => \\n                        new UpdateCurrentViewModelCommand(this);       \\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"ViewModels / MainViewModel.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class MainViewModel : ViewModelBase\\n{\\n    public INavigator Navigator { get; set; } = new Navigator();\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Controls / NavigationBar.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// Binding Command\\n\\nxmlns:nav=\\\"clr-namespace:SimpleTrader.WPF.State.Navigators\\\"\\n\\n....\\n\\n<RadioButton Grid.Column=\\\"0\\\" \\n                Content=\\\"Home\\\" \\n                Command=\\\"{Binding UpdateCurrentViewModelCommand}\\\" \\n                CommandParameter=\\\"{x:Static nav:ViewType.Home}\\\" />\\n<RadioButton Grid.Column=\\\"1\\\" \\n                Content=\\\"Portfolio\\\"\\n                Command=\\\"{Binding UpdateCurrentViewModelCommand}\\\" \\n                CommandParameter=\\\"{x:Static nav:ViewType.Portfolio}\\\" />\\n<RadioButton Grid.Column=\\\"2\\\" Content=\\\"Buy\\\" />\\n<RadioButton Grid.Column=\\\"3\\\" Content=\\\"Sell\\\" />\\n\\n....\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"MainWindow.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// MainWindow\\uC5D0 NavigationBar \\uC5F0\\uACB0\\n\\nxmlns:controls=\\\"clr-namespace:SimpleTrader.WPF.Controls\\\"\\n\\n<Grid>\\n    <controls:NavigationBar Grid.Row=\\\"0\\\" DataContext=\\\"{Binding Navigator}\\\" />\\n</Grid>\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"App.xaml.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"protected override void OnStartup(StartupEventArgs e)\\n{\\n    ....\\n\\n    window.DataContext = new MainViewModel();\\n\\n    ....\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"MainWindow.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// \\uB77C\\uB514\\uC624 \\uBC84\\uD2BC \\uD074\\uB9AD \\uC2DC \\uBDF0\\uBAA8\\uB378 \\uBC14\\uC778\\uB529\\n\\n<Grid>\\n    <Grid.RowDefinitions>\\n        <RowDefinition Height=\\\"auto\\\" />\\n        <RowDefinition Height=\\\"*\\\" />\\n    </Grid.RowDefinitions>\\n    \\n    <controls:NavigationBar Grid.Row=\\\"0\\\" DataContext=\\\"{Binding Navigator}\\\" />\\n    <ContentControl Grid.Row=\\\"1\\\" Content=\\\"{Binding Navigator.CurrentViewModel}\\\" />\\n</Grid>\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ State / Navigators / Navigator.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// \\uD074\\uB9AD\\uC2DC \\uC18D\\uC131 \\uBCC0\\uD654\\uB97C \\uC704\\uD574 INotifyPropertyChanged\\uC744 \\uC801\\uC6A9\\n\\npublic class Navigator : INavigator, INotifyPropertyChanged\\n{\\n    private ViewModelBase _currentViewModel;\\n    public ViewModelBase CurrentViewModel\\n    {\\n        get\\n        {\\n            return _currentViewModel;\\n        }\\n        set\\n        {\\n            _currentViewModel = value;\\n            OnPropertyChanged(nameof(CurrentViewModel));\\n        }\\n    }\\n    \\n    public ICommand UpdateCurrentViewModelCommand => \\n                        new UpdateCurrentViewModelCommand(this); \\n\\n    public event PropertyChangedEventHandler PropertyChanged;\\n\\n    protected void OnPropertyChanged(string propertyName)\\n    {\\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\\n    }\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ Models / ObservableObject.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// INotifyPropertyChanged\\uB97C \\uAD6C\\uD604\\uD55C \\uD074\\uB798\\uC2A4 \\uC791\\uC131\\npublic class ObservableObject : INotifyPropertyChanged\\n{\\n    public event PropertyChangedEventHandler PropertyChanged;\\n\\n    protected void OnPropertyChanged(string propertyName)\\n    {\\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\\n    }\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ State / Navigators / Navigator.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// INotifyPropertyChanged\\uB97C \\uAD6C\\uD604\\uD55C \\uD074\\uB798\\uC2A4\\uB97C \\uC0C1\\uC18D\\n\\npublic class Navigator : ObservableObject, INavigator\\n{\\n    private ViewModelBase _currentViewModel;\\n    public ViewModelBase CurrentViewModel\\n    {\\n        get\\n        {\\n            return _currentViewModel;\\n        }\\n        set\\n        {\\n            _currentViewModel = value;\\n            OnPropertyChanged(nameof(CurrentViewModel));\\n        }\\n    }\\n\\n    public ICommand UpdateCurrentViewModelCommand => \\n                        new UpdateCurrentViewModelCommand(this);        \\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ Views / HomeView.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<Grid>\\n    <TextBlock Text=\\\"Home\\\" />\\n</Grid>\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"/ Views / PortfolioView.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<Grid>\\n    <TextBlock Text=\\\"Portfolio\\\" />\\n</Grid>\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"App.xaml\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// Application\\uC5D0 DataTemplate\\uC73C\\uB85C \\uBDF0\\uBAA8\\uB378-\\uBDF0 \\uB4F1\\uB85D\\n\\nxmlns:viewmodels=\\\"clr-namespace:SimpleTrader.WPF.ViewModels\\\"\\nxmlns:views=\\\"clr-namespace:SimpleTrader.WPF.Views\\\"\\n\\n<Application.Resources>\\n    \\n    <ResourceDictionary>\\n        ....\\n\\n        <DataTemplate DataType=\\\"{x:Type viewmodels:HomeViewModel}\\\">\\n            <views:HomeView />\\n        </DataTemplate>\\n        <DataTemplate DataType=\\\"{x:Type viewmodels:PortfolioViewModel}\\\">\\n            <views:PortfolioView />\\n        </DataTemplate>\\n    \\n    </ResourceDictionary>\\n    \\n</Application.Resources>\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"F5\"))));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"slug":"/fullStackWPF/WPF-in-dotNET-and-MVVM-Navigation-03/","previous":{"id":"b489e12c-bb6d-5b1b-b4ac-e942fbeb6156","fields":{"slug":"/fullStackWPF/EntityFramework-CRUD-02/"},"frontmatter":{"title":"FULL STACK WFP 02 - Entity Framework CRUD"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"FULL STACK WFP 02 - Entity Framework CRUD\",\n  \"date\": \"2021-05-12 02\",\n  \"tag\": \"WPF, FullStack, ReFactory, DbContext\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null), mdx(\"p\", null, \"SimpleTraderDbContext\\uB97C \\uC57D\\uAC04 \\uB9AC\\uD329\\uD130\\uB9C1\\uD558\\uACE0 SimpleTraderDbContext\\uB97C \\uC778\\uC2A4\\uD134\\uC2A4\\uD654\\uD558\\uAE30\\uC704\\uD55C \\uD329\\uD1A0\\uB9AC \\uD074\\uB798\\uC2A4\\uB97C \\uB9CC\\uB4E0\\uB2E4.\\n\\uADF8\\uB7F0 \\uB2E4\\uC74C \\uD30C\\uD2B8 FULL STACK WFP 01\\uC758 Entity Framework \\uC124\\uC815\\uC744 \\uC0AC\\uC6A9\\uD558\\uC5EC \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0 \\uB300\\uD55C Data Service classes \\uBE4C\\uB4DC\\uB97C \\uC2DC\\uC791\\uD55C\\uB2E4.\"), mdx(\"h1\", null), mdx(\"h3\", null, \"1. refactor the SimpleTraderDbContext a tad\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Class Library : SimpleTrader.EntityFramework\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"SimpleTraderDbContext.cs : \\uB9AC\\uD329\\uD1A0\\uB9C1 \\uC791\\uC5C5 \\uC2DC\\uC791\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class SimpleTraderDbContext : DbContext\\n{\\n    public DbSet<User> Users { get; set; }\\n    public DbSet<Account> Accounts { get; set; }\\n    public DbSet<AssetTransaction> AssetTransactions { get; set; }\\n\\n    // 2. Error \\uD574\\uACB0\\uD558\\uAE30\\uD574 \\uCF54\\uB4DC \\uCD94\\uAC00\\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\\n    {\\n        modelBuilder.Entity<AssetTransaction>().OwnsOne(a => a.Stock);\\n        base.OnModelCreating(modelBuilder);\\n    }\\n\\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\\n    {\\n        // 1. optionsBuilder.UseSqlServer\\uC744 \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD574\\n        // NuGet - Microsoft.EntityFrameworkCore.SqlServer \\uC124\\uCE58.\\n        optionsBuilder.UseSqlServer(\\\"Server=(localdb)\\\\\\\\MSSQLLocalDB;Database=nameDB~~;\\\");\\n\\n        base.OnConfiguring(optionsBuilder);\\n    }\\n}\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Class Library : SimpleTrader.EntityFramework\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"SimpleTraderDbContext.cs : \\uB9AC\\uD329\\uD1A0\\uB9C1 \\uC791\\uC5C5 \\uC644\\uB8CC\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class SimpleTraderDbContext : DbContext\\n{\\n    public DbSet<User> Users { get; set; }\\n    public DbSet<Account> Accounts { get; set; }\\n    public DbSet<AssetTransaction> AssetTransactions { get; set; }\\n    public SimpleTraderDbContext(DbContextOptions options) : base(options) { }\\n\\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\\n    {\\n        modelBuilder.Entity<AssetTransaction>().OwnsOne(a => a.Stock);\\n        base.OnModelCreating(modelBuilder);\\n    }        \\n}\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Class Library : SimpleTrader.EntityFramework\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"SimpleTraderDbContextFactory.cs : SimpleTraderDbContext\\uB97C \\uC778\\uC2A4\\uD134\\uC2A4\\uD654\\uD558\\uAE30\\uC704\\uD55C \\uD329\\uD1A0\\uB9AC \\uD074\\uB798\\uC2A4\\uB97C \\uB9CC\\uB4E0\\uB2E4.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// IDesignTimeDbContextFactory\\uB294\\n// \\uD30C\\uC0DD \\uB41C Microsoft.EntityFrameworkCore.DbContext \\uC778\\uC2A4\\uD134\\uC2A4\\uB97C \\uB9CC\\uB4E4\\uAE30\\uC704\\uD55C \\uD329\\uD1A0\\uB9AC\\uB2E4.\\n\\npublic class SimpleTraderDbContextFactory : \\n                IDesignTimeDbContextFactory<SimpleTraderDbContext>\\n{\\n    public SimpleTraderDbContext CreateDbContext(string[] args = null)\\n    {\\n        var options = new DbContextOptionsBuilder<SimpleTraderDbContext>();\\n        options.UseSqlServer(\\\"Server=(localdb)\\\\\\\\MSSQLLocalDB;Database=nameDB~~;\\\");\\n\\n        return new SimpleTraderDbContext(options.Options);\\n    }\\n}\\n\\n// \\uACB0\\uAD6D\\n// SimpleTraderDbContext.OnConfiguring(optionsBuilder);\\n// \\uB9AC\\uD329\\uD1A0\\uB9C1 \\uC791\\uC5C5\\uC73C\\uB85C \\n// SimpleTraderDbContextFactory.CreateDbContext();\\n\")), mdx(\"h1\", null), mdx(\"h3\", null, \"2. building out data service classes\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Class Library : SimpleTrader.EntityFramework\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Services / GenericDataServices.cs\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class GenericDataServices<T> : IDataService<T> where T : DomainObject\\n{\\n    private readonly SimpleTraderDbContextFactory _contextFactory;\\n\\n    public GenericDataServices(SimpleTraderDbContextFactory contextFactory)\\n    {\\n        _contextFactory = contextFactory;\\n    }\\n\\n    public async Task<T> Create(T entity)\\n    {\\n        using(SimpleTraderDbContext context = _contextFactory.CreateDbContext())\\n        {\\n            EntityEntry<T> createdResult = await context.Set<T>().AddAsync(entity);\\n            await context.SaveChangesAsync();\\n\\n            return createdResult.Entity;\\n        }\\n    }\\n\\n    public async Task<bool> Delete(int id)\\n    {\\n        using (SimpleTraderDbContext context = _contextFactory.CreateDbContext())\\n        {\\n            T entity = await context.Set<T>().FirstOrDefaultAsync((e) => e.Id == id);\\n                // T type\\uC744 Id\\uAC00 \\uACF5\\uD1B5\\uC73C\\uB85C \\uB4E4\\uC5B4\\uAC04 \\uD0C0\\uC785\\uC73C\\uB85C \\uAC15\\uC81C\\uD654 \\uD558\\uAE30 => DomainObject.cs\\n            context.Set<T>().Remove(entity);\\n            await context.SaveChangesAsync();\\n\\n            return true;\\n        }\\n    }\\n\\n    public async Task<T> Get(int id)\\n    {\\n        using (SimpleTraderDbContext context = _contextFactory.CreateDbContext())\\n        {\\n            T entity = await context.Set<T>().FirstOrDefaultAsync((e) => e.Id == id);\\n\\n            return entity;\\n        }\\n    }\\n\\n    public async Task<IEnumerable<T>> GetAll()\\n    {\\n        using (SimpleTraderDbContext context = _contextFactory.CreateDbContext())\\n        {\\n            IEnumerable<T> entities = await context.Set<T>().ToListAsync();\\n\\n            return entities;\\n        }\\n    }\\n\\n    public async Task<T> Update(int id, T entity)\\n    {\\n        using (SimpleTraderDbContext context = _contextFactory.CreateDbContext())\\n        {\\n            entity.Id = id;\\n\\n            context.Set<T>().Update(entity);\\n            await context.SaveChangesAsync();\\n\\n            return entity;\\n        }\\n    }\\n}\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Class Library : SimpleTrader.Domain\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Models / DomainObject.cs\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// public class GenericDataServices<T> : IDataService<T> where T : DomainObject\\n\\npublic class DomainObject\\n{\\n    public int Id { get; set; }\\n}\\n\\n#\\n\\npublic class Account : DomainObject\\n{\\n    public User AccountHolder { get; set; }\\n    public double Balance { get; set; }\\n    public IEnumerable<AssetTransaction> AssetTransactions { get; set; }\\n\\n}\\n\\n#\\n\\npublic class AssetTransaction : DomainObject\\n{\\n    public Account Account { get; set; }\\n    public bool IsPurchase { get; set; }\\n    public Stock Stock { get; set; }\\n    public int Shares { get; set; }\\n    public DateTime DateProcessed { get; set; }\\n}\\n\\n#\\n\\npublic class User : DomainObject\\n{\\n    public string Email { get; set; }\\n    public string Username { get; set; }\\n    public string Password { get; set; }\\n    public DateTime DatedJoined { get; set; }\\n}\\n\")), mdx(\"h1\", null), mdx(\"h3\", null, \"3. Testing\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Class Library : ConsoleApp1\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Services / Program.cs\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"IDataService<User> userServices = \\n        new GenericDataServices<User>(new SimpleTraderDbContextFactory());\\n\\nuserServices.Create(new User { Username = \\\"Test\\\" }).Wait();\\n\\nConsole.WriteLine(userServices.GetAll().Result.Count());\\n\\nConsole.WriteLine(userServices.Get(1).Result);\\n\\nConsole.WriteLine(userServices.Update(1, new User() { Username = \\\"TestUser\\\" }).Result);\\n\\nConsole.WriteLine(userServices.Delete(1).Result);\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;"},"next":{"id":"1a524bcd-f9ca-5caf-a043-495bfaf29483","fields":{"slug":"/fullStackWPF/API-Service-Calls-and-Async-ViewModel-Loading-04/"},"frontmatter":{"title":"FULL STACK WFP 04 - API Service Calls and Async ViewModel Loading"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"FULL STACK WFP 04 - API Service Calls and Async ViewModel Loading\",\n  \"date\": \"2021-05-12 04\",\n  \"tag\": \"WPF, FullStack, Navigation, API Service Calls, Async ViewModel Loading\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null), mdx(\"p\", null, \"\\uC8FC\\uC694 \\uC8FC\\uAC00 \\uC9C0\\uC218\\uC5D0 \\uB300\\uD55C \\uC815\\uBCF4\\uB97C \\uB85C\\uB4DC\\uD558\\uB294 \\uC11C\\uBE44\\uC2A4\\uB97C \\uB9CC\\uB4E4\\uC5B4 service layer\\uB97C \\uD655\\uC7A5\\uD55C\\uB2E4.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\uC774 \\uC11C\\uBE44\\uC2A4\\uB294 HttpClient\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC FinancialModelingPrep API\\uC5D0\\uC11C JSON \\uB370\\uC774\\uD130\\uB97C \\uAC80\\uC0C9\\uD558\\uACE0\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Json.NET\\uC744 \\uC0AC\\uC6A9\\uD558\\uC5EC JSON\\uC744 \\uAC1C\\uCCB4\\uB85C \\uC5ED\\uC9C1\\uB82C\\uD654\\uD55C\\uB2E4.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\uADF8\\uB7F0 \\uB2E4\\uC74C, I use the service in a ViewModel to load major stock index information.\"), mdx(\"h1\", null), mdx(\"h3\", null, \"1. Extend our service layer by creating a service to load information about major stock indexes\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.Domain / Services / IMajorIndexService.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public interface IMajorIndexService\\n{\\n    Task<MajorIndex> GetMajorIndex(MajorIndexType indexType);\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.Domain / Models / MajorIndex.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class MajorIndex\\n{\\n    public double Price { get; set; }\\n    public double Changes { get; set; }\\n    public MajorIndexType Type { get; set; }\\n}\\n\\npublic enum MajorIndexType\\n{\\n    DowJones,\\n    Nasdaq,\\n    SP500\\n}\\n\")))), mdx(\"h1\", null), mdx(\"h3\", null, \"2. Use an HttpClient\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Add a new project : Class Library - SimpleTrader.FinancialModelingPrepAPI\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.FinancialModelingPrepAPI / Services / MajorIndexService.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// NuGet - Newtonsoft.Json \\uC124\\uCE58 : JsonConvert.DeserializeObject();\\n\\npublic class MajorIndexService : IMajorIndexService\\n{\\n    public async Task<MajorIndex> GetMajorIndex(MajorIndexType indexType)\\n    {\\n        string apikey = \\\"?apikey=de2b\\\";\\n        string uri = \\\"https://finte.com/api/\\\" + GetUriSuffix(indexType) + apikey;\\n\\n        using(HttpClient client = new HttpClient())\\n        {\\n            HttpResponseMessage response = await client.GetAsync(uri);\\n            string jsonResponse = await response.Content.ReadAsStringAsync();\\n\\n            MajorIndex majorIndex = \\n                    JsonConvert.DeserializeObject<MajorIndex>(jsonResponse);\\n\\n            return majorIndex;\\n        }\\n    }\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Testing - SimpleTrader.WPF / App.xaml.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"protected override void OnStartup(StartupEventArgs e)\\n{\\n    new MajorIndexService()\\n        .GetMajorIndex(Domain.Models.MajorIndexType.DowJones)\\n        .ContinueWith((task) =>\\n        {\\n            // Since we named the MajorIndex properties the same \\n            // as the fields of the JSON API object,\\n            // the properties are automatically populated when we deserialize.\\n            MajorIndex index = task.Result;\\n        });\\n    \\n    ....\\n}        \\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.FinancialModelingPrepAPI / Services / MajorIndexService.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class MajorIndexService : IMajorIndexService\\n{\\n    public async Task<MajorIndex> GetMajorIndex(MajorIndexType indexType)\\n    {\\n        string apikey = \\\"?apikey=de2b\\\";\\n        string uri = \\\"https://finte.com/api/\\\" + GetUriSuffix(indexType) + apikey;\\n\\n        using(HttpClient client = new HttpClient())\\n        {\\n            HttpResponseMessage response = await client.GetAsync(uri);\\n            string jsonResponse = await response.Content.ReadAsStringAsync();\\n\\n            MajorIndex majorIndex = \\n                    JsonConvert.DeserializeObject<MajorIndex>(jsonResponse);\\n            majorIndex.Type = indexType;\\n            //majorIndex.Price = 23.00;\\n            //majorIndex.Changes = 2.0;\\n\\n            return majorIndex;\\n        }\\n    }\\n\\n    private string GetUriSuffix(MajorIndexType indexType)\\n    {\\n        switch (indexType)\\n        {\\n            case MajorIndexType.DowJones:\\n                return \\\"%5EDJI\\\";\\n            case MajorIndexType.Nasdaq:\\n                return \\\"%5EIXIC\\\";\\n            case MajorIndexType.SP500:\\n                return \\\"%5EGSPC\\\";\\n            default:\\n                return \\\"%5EDJI\\\";\\n        }\\n    }\\n}\\n\")))), mdx(\"h1\", null), mdx(\"h3\", null, \"3. Async ViewModel Loading\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.WPF / ViewModels / MajorIndexViewModel.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class MajorIndexViewModel\\n{\\n    private readonly IMajorIndexService _majorIndexService;\\n    public MajorIndex DowJones { get; set; }\\n    public MajorIndex Nasdaq { get; set; }\\n    public MajorIndex SP500 { get; set; }\\n\\n    public MajorIndexViewModel(IMajorIndexService majorIndexService)\\n    {\\n        _majorIndexService = majorIndexService;\\n    }\\n\\n    // whthout having a MajorIndexViewModel\\n    public static MajorIndexViewModel \\n                    LoadMajorIndexViewModel(IMajorIndexService majorIndexService)\\n    {\\n        MajorIndexViewModel majorIndexViewModel = \\n                    new MajorIndexViewModel(majorIndexService);\\n        majorIndexViewModel.LoadMajorIndexs();\\n        return majorIndexViewModel;\\n    }\\n\\n    private async Task LoadMajorIndexs()\\n    {\\n        DowJones = await _majorIndexService.GetMajorIndex(MajorIndexType.DowJones);\\n        Nasdaq = await _majorIndexService.GetMajorIndex(MajorIndexType.Nasdaq);\\n        SP500 = await _majorIndexService.GetMajorIndex(MajorIndexType.SP500);\\n    }\\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.WPF / ViewModels / MajorIndexViewModel.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"....\\n\\n// Task\\uB97C \\uAE30\\uB2E4\\uB9AC\\uAE30 \\uBCF4\\uB2E4 \\uC2E4\\uD589\\uC744 \\uACC4\\uC18D \\uADF8\\uB798\\uC11C void\\nprivate void LoadMajorIndexs()\\n    {\\n        _majorIndexService\\n            .GetMajorIndex(MajorIndexType.DowJones)\\n            // ContinueWith\\uB294 \\uC791\\uC5C5\\uC758 \\uACB0\\uACFC\\uB97C \\uCF5C\\uBC31\\uD558\\uBBC0\\uB85C \\uC5EC\\uAE30\\uC5D0 \\uC791\\uC740 \\uD568\\uC218\\uB97C \\uC804\\uB2EC.\\n            .ContinueWith(task =>  \\n            {\\n                if (task.Exception == null)\\n                {\\n                    DowJones = task.Result;\\n                }\\n            });\\n\\n        _majorIndexService\\n            .GetMajorIndex(MajorIndexType.Nasdaq)\\n            .ContinueWith(task =>\\n            {\\n                if (task.Exception == null)\\n                {\\n                    Nasdaq = task.Result;\\n                }\\n            });\\n\\n        _majorIndexService\\n            .GetMajorIndex(MajorIndexType.SP500)\\n            .ContinueWith(task =>\\n            {\\n                if (task.Exception == null)\\n                {\\n                    SP500 = task.Result;\\n                }\\n            });\\n    }\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.WPF / ViewModels / HomeViewModel.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"public class HomeViewModel : ViewModelBase\\n{\\n    public MajorIndexViewModel MajorIndexViewModel { get; set; }\\n\\n    public HomeViewModel(MajorIndexViewModel majorIndexViewModel)\\n    {\\n        MajorIndexViewModel = majorIndexViewModel;\\n    }        \\n}\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"SimpleTrader.WPF / Commands / UpdateCurrentViewModelCommand.cs\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"case ViewType.Home:\\n    _navigator.CurrentViewModel = \\n        new HomeViewModel(MajorIndexViewModel\\n                .LoadMajorIndexViewModel(new MajorIndexService()));\\n    break;\\n\")))));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"staticQueryHashes":[]}